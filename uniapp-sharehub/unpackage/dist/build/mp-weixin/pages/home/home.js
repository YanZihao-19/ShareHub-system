(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{"55d0":function(e,t,n){"use strict";var o=n("d6ab"),i=n.n(o);i.a},"7b87":function(e,t,n){"use strict";n.r(t);var o=n("ccbd"),i=n("8d40");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("55d0");var a=n("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"58c029da",null,!1,o["a"],void 0);t["default"]=u.exports},"8bf2":function(e,t,n){"use strict";(function(e,o){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("2eee")),a=i(n("c973")),u=n("a1aa"),c={data:function(){return{tap:"0",mode:"3",token:"",TabCur:"0",scrollLeft:0,scrollTop:0,TabCurTab:0,ceil_top:"",cardCur:0,swiperList:["https://cdn.uviewui.com/uview/swiper/swiper3.png","https://cdn.uviewui.com/uview/swiper/swiper2.png","https://cdn.uviewui.com/uview/swiper/swiper1.png"],text:["uv-ui众多组件覆盖开发过程的各个需求","组件功能丰富，多端兼容","让您快速集成，开箱即用"],menuBaseUrl:"https://cdn.uviewui.com/uview/menu/",menuArr:[[{tap:"1",name:"电子产品",icon:n("23bc")},{tap:"8",name:"男装",icon:n("a64d")},{tap:"4",name:"数码影音",icon:n("f7ce")},{tap:"11",name:"运动户外",icon:n("bd6f")},{tap:"5",name:"家居日用",icon:n("c837")},{tap:"6",name:"儿童玩具",icon:n("f3c9")},{tap:"7",name:"宠物用品",icon:n("4439")}],[{tap:"9",name:"女装",icon:n("c86d")},{tap:"2",name:"美妆用品",icon:n("1d28")},{tap:"10",name:"母婴用品",icon:n("78d5")},{tap:"12",name:"家用电器",icon:n("84c6")},{tap:"3",name:"图书",icon:n("85f1")},{tap:"13",name:"家纺家居",icon:n("ac38")},{tap:"14",name:"其他",icon:n("ca3f")}]],list:[],list1:[],list2:[],loadStatus:"loadmore",leftGap:10,rightGap:10,columnGap:10,showTop:!1}},computed:{waterfallHeight:function(){return(0,u.sys)().windowHeight-(0,u.getPx)("120rpx")},imageStyle:function(t){var n=this;return function(t){var o=e.upx2px(750)-n.leftGap-n.rightGap-n.columnGap,i=o/2,r=i/t.w,a=r*t.h;return{width:i+"px",height:a+"px"}}}},onLoad:function(){var e=this;return(0,a.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getData();case 3:n=t.sent,e.list=n,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Failed to load data:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},onTabItemTap:function(e){this.$refs.waterfall.clear(),this.list=[],this.list1=[],this.list2=[],this.init()},onHide:function(){this.$refs.waterfall.clear()},onPullDownRefresh:function(){var t=this;return(0,a.default)(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.list=[],t.$refs.waterfall.clear(),t.list1=[],t.list2=[],t.init(),e.showToast({icon:"success",title:"刷新成功"}),e.stopPullDownRefresh();case 7:case"end":return n.stop()}}),n)})))()},onReachBottom:function(){var e=this;return(0,a.default)(r.default.mark((function t(){return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"loadmore"==e.loadStatus&&(console.log("触发加载"),e.init());case 1:case"end":return t.stop()}}),t)})))()},methods:{itemClick:function(e){this.tap=e,this.list=[],this.list1=[],this.list2=[],this.init()},getModeText:function(e){switch(e){case 0:return"免费共享";case 1:return"以物换物";case 2:return"二手交易";default:return""}},getModeType:function(e){switch(e){case 0:return"success";case 1:return"warning";case 2:return"error";default:return""}},getDeliveryText:function(e){switch(e){case 0:return"任意";case 1:return"自提";case 2:return"面交";case 3:return"邮寄";default:return""}},clickImage:function(e){},clickSwiper:function(e){},clickNotice:function(e){},onPageScroll:function(e){this.scrollTop=e.scrollTop,e.scrollTop>500?this.showTop=!1:this.showTop=!0},goTop:function(){e.pageScrollTo({scrollTop:0,duration:300})},SelectorQuery:function(){var e=o.createSelectorQuery();e.select("#navTab").boundingClientRect(),e.selectViewport().scrollOffset(),e.exec((function(e){}))},selectTab:function(){var e=o.createSelectorQuery();e.select("#TabCurTab").boundingClientRect(),e.selectViewport().scrollOffset(),e.exec((function(e){this.TabCurTab=e[0].bottom-e[0].height-4}))},tabChange:function(e){switch(console.log(e.index),this.$refs.waterfall.clear(),this.list=[],this.list1=[],this.list2=[],e.index){case 0:this.mode="3";break;case 1:this.mode="0";break;case 2:this.mode="1";break;case 3:this.mode="2";break;default:break}this.init()},goToDetail:function(t){console.log("准备执行跳转了！"),e.navigateTo({url:"/pages/home/home_detail/home_detail?id="+t.id})},changeList:function(e){this[e.name].push(e.value)},init:function(){var e=this;return(0,a.default)(r.default.mark((function t(){var n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadStatus="loading",t.next=3,e.getData();case 3:n=t.sent,console.log(n),e.list.push.apply(e.list,n),e.loadStatus="loadmore";case 7:case"end":return t.stop()}}),t)})))()},longHandle:function(t){var n=this;e.showModal({title:"提示",content:"你不喜欢该物品吗？",success:function(e){e.confirm&&n.$refs.waterfall.remove(t.id)}})},remove:function(e){var t=this;this.list1.forEach((function(n,o){n.id==e&&t.list1.splice(o,1)})),this.list2.forEach((function(n,o){n.id==e&&t.list2.splice(o,1)}))},getData:function(){var t=this;return new Promise((function(n,o){t.token=e.getStorageSync("token"),console.log("发送给后端的list值：",t.list);var i=t.list;e.request({url:"http://localhost:8080/items/recommendItems?tap="+t.tap+"&mode="+t.mode,method:"POST",header:{"content-type":"application/json",token:t.token},data:JSON.stringify(i),success:function(e){var t=e.data.data.map((function(e){return{id:e.id,allowEdit:!1,image:e.image,itemTitle:e.itemTitle,itemDesc:e.itemDesc,address:e.address,mode:e.tradeMode,delivery:e.deliveryStyle}}));n(t)},fail:function(e){o(e)}})}))}}};t.default=c}).call(this,n("543d")["default"],n("bc2e")["default"])},"8d40":function(e,t,n){"use strict";n.r(t);var o=n("8bf2"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},ae48:function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("f4b8");o(n("66fd"));var i=o(n("7b87"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},ccbd:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={uvRow:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-row/components/uv-row/uv-row")]).then(n.bind(null,"1a7b"))},uvCol:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-row/components/uv-col/uv-col")]).then(n.bind(null,"4aff"))},uvInput:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-input/components/uv-input/uv-input")]).then(n.bind(null,"cabf"))},uvButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-button/components/uv-button/uv-button")]).then(n.bind(null,"24b0"))},uvSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-swiper/components/uv-swiper/uv-swiper")]).then(n.bind(null,"c6c3"))},uvNoticeBar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-notice-bar/components/uv-notice-bar/uv-notice-bar")]).then(n.bind(null,"6f07"))},uvScrollList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-scroll-list/components/uv-scroll-list/uv-scroll-list")]).then(n.bind(null,"85e4"))},uvSticky:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-sticky/components/uv-sticky/uv-sticky")]).then(n.bind(null,"0a21"))},uvTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-tabs/components/uv-tabs/uv-tabs")]).then(n.bind(null,"e9c1"))},uvWaterfall:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-waterfall/components/uv-waterfall/uv-waterfall")]).then(n.bind(null,"27ea"))},uvTags:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-tags/components/uv-tags/uv-tags")]).then(n.bind(null,"251e"))},uvLoadMore:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-load-more/components/uv-load-more/uv-load-more")]).then(n.bind(null,"cfc0"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.menuArr,(function(t,n){var o=e.__get_orig(t),i=e.__map(t,(function(n,o){var i=e.__get_orig(n),r=o===t.length-1&&"scroll-list__line__item--last";return{$orig:i,g0:r}}));return{$orig:o,l0:i}}))),o=e.__map(e.list1,(function(t,n){var o=e.__get_orig(t),i=e.__get_style([e.imageStyle(t)]),r=e.getModeText(t.mode),a=e.getModeType(t.mode),u=e.getDeliveryText(t.delivery);return{$orig:o,s0:i,m0:r,m1:a,m2:u}})),i=e.__map(e.list2,(function(t,n){var o=e.__get_orig(t),i=e.__get_style([e.imageStyle(t)]),r=e.getModeText(t.mode),a=e.getModeType(t.mode),u=e.getDeliveryText(t.delivery);return{$orig:o,s1:i,m3:r,m4:a,m5:u}}));e.$mp.data=Object.assign({},{$root:{l1:n,l2:o,l3:i}})},r=[]},d6ab:function(e,t,n){}},[["ae48","common/runtime","common/vendor"]]]);
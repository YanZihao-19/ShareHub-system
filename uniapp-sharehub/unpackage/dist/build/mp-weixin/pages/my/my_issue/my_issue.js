(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my_issue/my_issue"],{"274a":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("f4b8");o(n("66fd"));var i=o(n("e627"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"295f":function(e,t,n){"use strict";n.r(t);var o=n("e796"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},7875:function(e,t,n){},c344:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uvSticky:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-sticky/components/uv-sticky/uv-sticky")]).then(n.bind(null,"0a21"))},uvTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-tabs/components/uv-tabs/uv-tabs")]).then(n.bind(null,"e9c1"))},uvTextarea:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-textarea/components/uv-textarea/uv-textarea")]).then(n.bind(null,"95c1"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.itemList,(function(t,n){var o=e.__get_orig(t),i=e.formattedTime(t.createTime),a=e.tagColorClass(t.tradeMode),s=e.tradeModeText(t.tradeMode);return{$orig:o,m0:i,m1:a,m2:s}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},a=[]},dba7:function(e,t,n){"use strict";var o=n("7875"),i=n.n(o);i.a},e627:function(e,t,n){"use strict";n.r(t);var o=n("c344"),i=n("295f");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("dba7");var s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"07302bda",null,!1,o["a"],void 0);t["default"]=r.exports},e796:function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("2eee")),a=o(n("c973")),s={data:function(){return{showModal:"",pageFlag:"",token:"",order:{itemId:"",reason:"",contact:"",mode:"",otherItemId:"",image:""},itemList:[],mode:"3",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg"}},computed:{},onLoad:function(t){this.pageFlag=t.pageFlag,this.mode=t.mode,this.order=JSON.parse(decodeURIComponent(t.order)),console.log("this.order获取来的数据:",this.order),this.token=e.getStorageSync("token");try{var n=this.getData();this.itemlist=n}catch(o){console.error("Failed to load data:",o)}},methods:{getData:function(){var t=this;e.request({url:"http://localhost:8080/items/userItems?&mode="+this.mode,method:"GET",header:{"content-type":"application/json",token:this.token},success:function(e){t.itemList=e.data.data},fail:function(e){reject(e)}})},formattedTime:function(e){var t=e.toString();return t.split("T")[0]},tagColorClass:function(e){switch(e){case 0:return"line-green";case 1:return"line-blue";case 2:return"line-red";default:return""}},tradeModeText:function(e){switch(e){case 0:return"免费共享";case 1:return"以物换物";case 2:return"二手出售";default:return""}},tabChange:function(e){switch(console.log(e.index),this.itemList=[],e.index){case 0:this.mode="3";break;case 1:this.mode="0";break;case 2:this.mode="1";break;case 3:this.mode="2";break;default:break}this.init()},init:function(){var e=this;return(0,a.default)(i.default.mark((function t(){var n;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:n=t.sent,e.itemList=n;case 4:case"end":return t.stop()}}),t)})))()},select:function(e){this.order.otherItemId=e.id,this.showModal=!0},cancel:function(){this.showModal=!1},confirm:function(){this.showModal=!1,1==this.mode&&(console.log("发送给后端的订单数据",this.order),e.request({url:"http://localhost:8080/orders/newOrder?mode="+this.mode,method:"POST",header:{"content-type":"application/json",token:this.token},data:JSON.stringify(this.order),success:function(t){1==t.data.code?e.showToast({title:"申请成功！",icon:"success",duration:2e3}):0==t.data.code&&e.showToast({title:"不能重复申请哦~",icon:"error",duration:2e3})},fail:function(e){reject(e)}}))},toIssue:function(){e.navigateTo({url:"/pages/issue/issue_edit/issue_edit",success:function(e){},fail:function(e){},complete:function(e){}})},offShelf:function(){console.log("navigator获取来的数据"+this.pageFlag),e.showModal({mask:!0,title:"温馨提示",content:"确定要下架该物品吗？",success:function(e){e.confirm||e.cancel}})},shareVX:function(){console.log("点击了微信分享"),e.share({provider:"weixin",scene:"WXSceneSession",type:5,imageUrl:"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/share-logo@3.png",title:"欢迎体验uniapp",miniProgram:{id:"gh_abcdefg",path:"pages/index/index",type:0,webUrl:"http://uniapp.dcloud.io"},success:function(e){console.log(JSON.stringify(e))}})}}};t.default=s}).call(this,n("543d")["default"])}},[["274a","common/runtime","common/vendor"]]]);